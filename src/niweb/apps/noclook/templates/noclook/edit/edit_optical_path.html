{% extends "noclook/edit/base_edit.html" %}
{% load crispy_forms_tags %}

{% block js %}
    {{ block.super }}
    {% load noclook_tags %}
    <script type="text/javascript">
        $(document).ready(
            function(){
                // Accordion
                $(".edit-accordion").collapse();
                // Provider
                // Populate first level combo box
                providerCategories = [
                    ['provider', 'Provider']
                ];
                // Depends on //
                // Populate first level single dependency combo box
                dependencyCategories = [
                    ['odf', 'ODFs'],
                    ['optical-link', 'Optical Links'],
                    ['optical-multiplex-section', 'Optical Multiplex Sections'],
                    ['optical-node', 'Optical Nodes'],
                    ['optical-path', 'Optical Paths'],
                    ['router', 'Routers']
                ];
            }
        );
    </script>
{% endblock %}

{% block content %}
    {{ block.super }}

    <div class="well">
        {% if not form.name in form.hidden_fields %}
            {{ form.name | as_crispy_field }}
        {% endif %}
        {{ form.framing | as_crispy_field}}
        {{ form.capacity | as_crispy_field }}
        {{ form.operational_state | as_crispy_field }}
        {{ form.description | as_crispy_field }}
    </div>
    <div class="accordion" id="edit-accordion">
        {% include "noclook/edit/includes/dependency_group.html" %}
        {% include "noclook/edit/includes/enrs_group.html" %}
        {% include "noclook/edit/includes/provider_group.html" %}
    </div>
{% endblock %}
